CREATE TABLE MOVIE (
      TITLE VARCHAR2(500) CONSTRAINT PK_TITLE PRIMARY KEY NOT NULL,
      TIME_M NUMBER(3) NOT NULL, 
      PROD_YEAR NUMBER(4) NOT NULL,
      DIRECTOR VARCHAR2(50) NOT NULL,
      TYPE_M VARCHAR2(50) NOT NULL, --NIE MA ENUMA MUSIMY TO OBSLUZYC W JAVIE
      AGE_LIMIT NUMBER(2) NOT NULL --BEDZIE PODANY WIEK OD JAKIEGO MOZNA OGLADAC
      
);

CREATE TABLE SEANCE (
     SEANCE_ID NUMBER(5) CONSTRAINT PK_SEANCE_ID PRIMARY KEY NOT NULL,
     TITLE VARCHAR2(500) NOT NULL,
     HALL_ID NUMBER(2) NOT NULL,
     DATE_SEANCE DATE NOT NULL,
     TYPE_S VARCHAR2(2) CHECK(TYPE_S IN('2D','3D'))
); 


CREATE TABLE PURCHASE (
     PURCHASE_ID NUMBER(5) CONSTRAINT PK_PURCHASE_ID PRIMARY KEY,
     TICKET_ID NUMBER(5) NOT NULL,
     SEANCE_ID NUMBER(5) NOT NULL,
     HALL_ID NUMBER(2) NOT NULL,
     PLACE_ID NUMBER(3) NOT NULL,
     RESERVATION_ID NUMBER(5) NOT NULL,
     TITLE_ID VARCHAR2(500) NOT NULL
); 

CREATE TABLE RESERVATION (
      RESERVATION_ID NUMBER(5) CONSTRAINT PK_RESERVATION_ID PRIMARY KEY NOT NULL,
      --PURCHASE_ID NUMBER(5) NOT NULL,
      CLIENT_ID NUMBER(5) NOT NULL
);


CREATE TABLE TICKET (
      TICKET_ID NUMBER(5) CONSTRAINT PK_TICKET_ID PRIMARY KEY NOT NULL,
      RESERVATION_ID NUMBER(5) NOT NULL
);

CREATE TABLE PLEACE (
      PLACE_ID NUMBER(3) CONSTRAINT PK_PLACE_ID PRIMARY KEY NOT NULL,
      HALL_ID NUMBER(2) NOT NULL,
      RESERVATION_ID NUMBER(5) NOT NULL,
      ROW_P NUMBER(2) NOT NULL UNIQUE,
      NUMBER_P NUMBER(2) NOT NULL UNIQUE 
);

CREATE TABLE PRICE (
      TYPE_P VARCHAR2(2) CONSTRAINT PK_TYPE_P PRIMARY KEY NOT NULL,
      COST_P NUMBER(3) NOT NULL
);


CREATE TABLE CLIENT (
      CLIENT_ID NUMBER(5) CONSTRAINT PK_CLIENT_ID PRIMARY KEY NOT NULL,
      FIRST_NAME VARCHAR(20) NOT NULL,
      SECOND_NAME VARCHAR(20) NOT NULL,
      IS_LOYAL NUMBER(1) NOT NULL
);

CREATE TABLE CINEMABRANCH (
      BRANCH_NAME VARCHAR(20) CONSTRAINT PK_BRANCH_NAME PRIMARY KEY NOT NULL,
      NUMBEROFHALL NUMBER(2) NOT NULL,
      NUMBEROFEMPLOYEE NUMBER(3) NOT NULL,
      ADDRESS VARCHAR(50) NOT NULL  
);

CREATE TABLE EMPLOYEE (
      PESEL NUMBER(10) CONSTRAINT PK_PESEL PRIMARY KEY NOT NULL,
      BRANCH_NAME VARCHAR(20),
      FIRST_NAME VARCHAR(20) NOT NULL,
      SECOND_NAME VARCHAR(20) NOT NULL,
      POSITION_E VARCHAR2(20) NOT NULL,
      EMAIL_ADDRESS VARCHAR2(255) NOT NULL,
      ADDRESS VARCHAR2(50) NOT NULL,
      SALARY NUMBER(5)NOT NULL,
      START_DATE DATE NOT NULL
);


CREATE TABLE HALL (
      HALL_ID NUMBER(2) CONSTRAINT PK_HALL_ID PRIMARY KEY NOT NULL,
      PLACE_QUANTITY NUMBER(3) NOT NULL,
      BRANCH_NAME VARCHAR2(2) NOT NULL,
      SEANCE_ID NUMBER(5) NOT NULL,
      PURCHASE_ID NUMBER(5) NOT NULL
);


CREATE TABLE USER1 (
      LOGIN VARCHAR2(50) CONSTRAINT PK_LOGIN PRIMARY KEY NOT NULL,
      PASSWORD_U VARCHAR2(20) NOT NULL,
      EMAIL VARCHAR2(255) NOT NULL
);