CREATE TABLE KINO (
      ODDZIAL_KINA VARCHAR(20) CONSTRAINT PK_ODDZIAL_KINA PRIMARY KEY NOT NULL,
      ILOSC_SAL NUMBER(2) NOT NULL,
      ILOSC_PRACOWNIKOW NUMBER(3),
      ADRES VARCHAR(50) NOT NULL  
);

CREATE TABLE FILM (
      TYTUL VARCHAR2(500) CONSTRAINT PK_TYTUL PRIMARY KEY NOT NULL,
      CZAS_TRWANIA NUMBER(3) NOT NULL, 
      ROK_PROD NUMBER(4) NOT NULL,
      REZYSER VARCHAR2(50) NOT NULL,
      KATEOGRIA VARCHAR2(50) NOT NULL, --NIE MA ENUMA MUSIMY TO OBSLUZYC W JAVIE
      OGR_WIEKOWE NUMBER(2) NOT NULL --BEDZIE PODANY WIEK OD JAKIEGO MOZNA OGLADAC
      
);

CREATE TABLE CENA (
      TYP VARCHAR2(2) CHECK(TYP IN('2D','3D')) NOT NULL,
      WARTOSC NUMBER(3) NOT NULL
);

CREATE TABLE SALA (
      ID_SALI NUMBER(2) CONSTRAINT PK_ID_SALI PRIMARY KEY NOT NULL,
      ILOSC_MIEJSC NUMBER(3) NOT NULL
);

CREATE TABLE KLIENT (
      ID_KLIENTA NUMBER(6) CONSTRAINT PK_ID_KLIENTA PRIMARY KEY NOT NULL,
      IMIE VARCHAR(20) NOT NULL,
      NAZWISKO VARCHAR(20) NOT NULL
);

CREATE TABLE MIEJSCE (
      ID_SALI NUMBER(2) CONSTRAINT FK_ID_SALI REFERENCES SALA(ID_SALI),
      NUMER NUMBER(3) NOT NULL
);

CREATE TABLE PRACOWNIK (
      PESEL NUMBER(10)  CONSTRAINT PK_PESEL PRIMARY KEY NOT NULL,
      IMIE VARCHAR(20) NOT NULL,
      NAZWISKO VARCHAR(20) NOT NULL,
      STANOWISKO VARCHAR(20) NOT NULL,
      ODDZIAL_KINA VARCHAR(20) CONSTRAINT FK_ODDZIAL_KINA REFERENCES KINO(ODDZIAL_KINA)
);

CREATE TABLE SEANS (
     ID_SEANSU NUMBER(5) CONSTRAINT PK_ID_SEANSU PRIMARY KEY NOT NULL,
     TYTUL VARCHAR2(500) CONSTRAINT FK_TYTUL REFERENCES FILM(TYTUL),
     ID_SALI NUMBER(2) CONSTRAINT NN_ID_SALI NOT NULL,
     DATA_SEANSU DATE CONSTRAINT NN_DATA_SEANSU NOT NULL,
     TYP VARCHAR2(2) CHECK(TYP IN('2D','3D'))
); 

CREATE TABLE KOMPUTER (
      ID_KOMPUTERA NUMBER(3) CONSTRAINT PK_ID_KOMPUTERA PRIMARY KEY NOT NULL,
      DATA_KOMP DATE NOT NULL,
      ID_PRACOWNIKA NUMBER(10) CONSTRAINT FK_ID_PRACOWNIKA REFERENCES PRACOWNIK(PESEL)
);




CREATE TABLE BILET (
      ID_BILETU NUMBER(5) CONSTRAINT PK_ID_BILETU PRIMARY KEY NOT NULL,
      ID_KUPNA NUMBER(7) CONSTRAINT FK_ID_KUPNA REFERENCES KUPNO(ID_KUPNA),
      CONSTRAINT BILET_UNIQUE UNIQUE(ID_BILETU, ID_KUPNA)  
);


CREATE TABLE ZAMOWIENIE (
     ID_ZAMOWIENIA NUMBER(5) CONSTRAINT PK_ID_ZAMOWIENIA PRIMARY KEY,
     ID_KUPNA NUMBER(7) CONSTRAINT FK_ID_KUPNA REFERENCES KUPNO(ID_KUPNA),
); 

CREATE TABLE KUPNO (
      ID_KUPNA NUMBER(7) CONSTRAINT PK_ID_KUPNA PRIMARY KEY,
      ID_SEANSU NUMBER(5) CONSTRAINT FK_ID_SEANSU REFERENCES SEANS(ID_SEANSU),
      ID_SALI NUMBER(2) NOT NULL,
      NR_MIEJSCA NUMBER(10) NOT NULL,
      TYP NUMBER(1) NOT NULL,
      NAZWISKO VARCHAR2(50),
      CZY_STALY_KLIENT NUMBER(1) NOT NULL
); 





